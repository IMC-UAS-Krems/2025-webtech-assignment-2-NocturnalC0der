<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="bootstrap-5.3.8-dist/css/bootstrap.min.css" />
    <title>Adam's Christmas Shelter</title>
  </head>
  <body>
    <!-- Top banner with name, slogan and ackground picture -->
    <header>
      <section id="top_banner">
        <div id="banner-wrapper">
          <h1 id="banner-title">Adam's Christmas Shelter</h1>
          <img src="img/banner.png" alt="Top banner of christmas dinner" />
          <!-- </div>
        <div class="banner-row"> -->
        </div>
      </section>
    </header>

    <!-- About section -->
    <section id="about1">
      <div class="row">
        <div class="col-sm-12 col-md-6" id="we-img">
          <img src="img/we_img.webp" alt="Picture of us cooking." />
        </div>

        <div class="col-sm-12 col-md-6" id="we-text">
          <h1>Who Are We?</h1>
          <article>
            Adam's Christmas Shelter is a non-profit civic association that
            cooks meals for people in need during the Christmas holiday period.
            Established in 2022 by Adam Brestovansk√Ω, we are a group of people,
            who have been working hard every Christmas seson since, to help
            mainly the homeless, but also anyone else who needs it. We realise
            that in our lives, we are faced with little difficulty, and want to
            use your availible resources to help other who have been less
            fortunate.
          </article>
        </div>
      </div>
      <!-- </div> -->
    </section>

    <section id="about2">
      <div class="row">
        <div class="col-12" id="mission-block">
          <h1>Our Mission</h1>
          <p>
            "To make sure nobody is left alone in winter's cold, but surrounded by
            the warmth of community."
          </p>
        </div>
        
          <div class="col-12" id="process-block">
            <h1>How It Works</h1>
            <article>
              We operate fully on the dontations we recieve from people. The
              donations are in the form of ingredients to make our meals. The flow
              looks like this. First, the donors come to our site, choose the
              ingredients that they want to contribute with, and pay via a
              traditional internat payment gate. Second, our system is alreated, it
              interacts with the API's of supermarket chains that offer delivery
              (TESCO, etc..), and automatically places up the order. Lastly, we wait
              for the ingredients to get delivered to our doorstep, and cook. Every
              other day, at 6'oclock in the evening, we open our doors and start the
              banquet.
            </article>

            <div class="col-12" id="process_icons"></div>
      </div>
    </section>

    <!-- Shopping Section with listed ingredients -->
    <section id="shop">
      <div class="container-fluid" id="ingredients-wrapper">
        <h1>Shop the Ingredients</h1>        
       

      </div>
      <div id="modalsWrapper">
        


      </div>
    </section>
    <!-- ======================================== PAYMENT & CART SECTION ================================================================================ -->
    <!-- Dynamic payment section that will be changing (hidden in the start) -->
    <section id="cart-pay">

      <!-- =================== Step 1 - Cart =================== -->
       <div id="cart-step" class="container-fluid payment-step">

          <h3>Your Selection</h3>

        <table class="table">
          <thead>
            <tr>
              <th scope="col">N.</th>
              <th scope="col">Name</th>
              <th scope="col">Amount (kg)</th>
              <th scope="col">Price (EUR)</th>
              <th></th>
            </tr>
          </thead>

          <tbody id="cart-table">
            <!-- rows here -->
          

          </tbody>
        </table>
        <button 
          class="btn btn-secondary" 
          data-bs-toggle="modal"
          data-bs-target="#modal_clear"
        > Clear
        </button>
        <button class="btn btn-primary" id="cart-continue" onclick="procceedPayment('cart-step', 'donor-info-step')">Continue</button>
        <!-- Here we pass the next step's id -->

        <!-- Modal for confirming cart clearing: -->
        <div class="modal fade" id="modal_clear" aria-hidden="true", tabindex="-1">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Clearing Your Selection</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div>
                  Are you sure you want to clear your cart?
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" data-bs-dismiss="modal" onclick="handleClearCartClick()">Clear</button>
              </div>
            </div>
          </div>
       </div>
      </div>


      <!-- =================== STEP 2 -- ABOUT DONOR & CHOOSE SITE =================== -->
      <div class="container-fluid payment-step d-none" id="donor-info-step">
        <h2>About Your Donation</h2>
        
        <form id="donor-info-form">
          <div class="row">
            <!-- First name -->
            <div class="col-12 col-md-6">
              <label for="first-name-input" class="form-label" required>First Name</label>
              <input type="text" class="form-control" id="first-name-input" name="firstName" placeholder="First name" required>
            </div>

            <!-- Last name -->
            <div class="col-12 col-md-6">
              <label for="last-name-input" class="form-label" required>Last Name</label>
              <input type="text" class="form-control" id="last-name-input" name="lastName" placeholder="Last name" required>
            </div>
          </div>

          <div class="row">
            <!-- Location Select -->
            <div class="col-12 col-md-6">
              <label for="location-select" class="form-label">Which location are you ordering for?</label>
              <select class="form-select" id="location-select" name="location" required>
                <option value="">Choose...</option>
                <option value="1">Trnava</option>
                <option value="2">Bratislava</option>
                <option value="3">Nitra</option>
              </select>
            </div>

      
            <!-- Label for discount -->
            <div class="col-6 col-md-3">
              <p><small id="discount-text"></small></p>
            </div>
          </div>

          <!-- Final price row -->
          <div class="row">
            <div class="col-6 col-md-3">
              <h4>Final Price:</h4>
            </div>
            
            <div class="col-3 col-md-3">
              <h4 id="final-price"></h4><span>EUR</span>
            </div>
          </div>
           
          <div class="row">
            <!-- Comment or note -->
            <div class="col-12 col-md-6">
              <label for="comments" class="form-label">Comments (Optional)</label>
              <textarea class="form-control" id="comments" name="comments" rows="3" placeholder="Any additional comments..."></textarea>
            </div>
          </div>

          <div class="row mt-3">
            <!--  Back & Continue buttons -->
            <div class="col-4">
              <button type="button" class="btn btn-secondary" onclick="procceedPayment('donor-info-step', 'cart-step')">Back</button>
            </div>

            <div class="col-4">
              <button type="submit" class="btn btn-primary" onclick="procceedPayment('donor-info-step', 'payment-step')" >Continue</button>
            </div>  
          </div>
        </form>
      </div>


      <!-- =================== STEP 3 -- CREDIT CARD FORM =================== -->
      <div class="container-fluid payment-step d-none" id="payment-step">
        <h2>Payment with Credit Card</h2>

        <div class="row">
          <div class="col-6 col-md-3">
            <h5>Final Price</h5>
          </div>

          <div class="col-6 col-md-3">
            <h5 id="final-price2"></h5>
          </div>
        </div>

        <div class="row">
          <!-- Card number -->
          <div class="col-12">
            <label for="card-num-input">Card Number</label>
            <div class="input-group mb-3" id="card-payment-section">
              <input type="text" class="form-control" id="card-num-input" placeholder="1234 5678 ...">
            </div>
          </div>
        </div>

        <div class="row">

          <!-- Expiry date -->
          <div class="col-6">
            <label for="card-expiry-input">Expiry Date</label>
             <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="09">
              <span class="input-group-text">/</span>
              <input type="text" class="form-control" placeholder="29">
            </div>
          </div>

          <!-- Security code -->
          <div class="col-6">
            <label for="card-cvv-input">Security Code</label>
            <input type="text" class="form-control" id="card-num-input" placeholder="445">
          </div>

        </div>

        <div class="row">

          <!-- pay Button -->
          <div class="col-4">
            <button class="btn btn-secondary" onclick="procceedPayment('payment-step', 'donor-info-step')">Back</button>
          </div>

          <div class="col-4">
            <button class="btn btn-success" onclick="procceedPayment('payment-step', 'thank-you-step')">Pay</button>
          </div>
        </div>


      </div>

    
      <!-- =================== STEP 4 -- Thank you! =================== -->
      <div class="container-fluid payment-step d-none" id="thank-you-step">
        <h1>Thank You!</h1>
      </div>


    </section>

    <!-- Footer with contact info and address -->
    <footer>
      <div class="container-fluid" id="footer">
        <div class="row">
          <div class="col-12 col-md-4">
            <h3>Contact Us</h3>
            <p>Phone: +123 456 789 912</p>
            <p>Email: conatct@adamsxmasshelter.org</p>
          </div>
          <div class="col-12 col-md-8" id="footer-quote">
            <h5><i>Where no one is left alone.</i></h5>
          </div>
        </div>
      </div>
    </footer>

    <script src="bootstrap-5.3.8-dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js"></script>
  </body>
  
</html>
